[gd_scene load_steps=14 format=4 uid="uid://br3qhp50ilabd"]

[ext_resource type="PackedScene" uid="uid://3rq6e7obb54q" path="res://Player/player.tscn" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://vn42mjulfuat" path="res://AI/door.tscn" id="2_0xm2m"]
[ext_resource type="TileSet" uid="uid://b5blkuli1snam" path="res://Assets/room_builder.tres" id="3_h2yge"]
[ext_resource type="Shader" uid="uid://dugjsfq2n3wn2" path="res://background.gdshader" id="5_7mycd"]
[ext_resource type="Script" uid="uid://bgtk1fhqdm6j0" path="res://background.gd" id="6_272bh"]

[sub_resource type="Environment" id="Environment_h2yge"]
background_mode = 3
glow_enabled = true
glow_normalized = true
glow_bloom = 0.14
glow_blend_mode = 0

[sub_resource type="Gradient" id="Gradient_efxa6"]
offsets = PackedFloat32Array(0.282468, 0.727273)
colors = PackedColorArray(0.644179, 0.337209, 1.05888e-06, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_dg77c"]
gradient = SubResource("Gradient_efxa6")
use_hdr = true
fill = 1
fill_from = Vector2(0.506881, 0.46789)
fill_to = Vector2(0.520642, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5vw27"]
shader = ExtResource("5_7mycd")
shader_parameter/anim_speed = 0.0
shader_parameter/star_brightness = 0.011
shader_parameter/dust = 0.125
shader_parameter/dist_fade = 0.35
shader_parameter/pixelation = 1000.0
shader_parameter/quantization_levels = 256
shader_parameter/dust_color = Color(0, 0, 0, 1)
shader_parameter/saturation = 1.0
shader_parameter/layers = 4.5
shader_parameter/iterations = 10

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kek77"]
size = Vector2(553.75, 93)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7mycd"]
size = Vector2(568.5, 93)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_272bh"]
size = Vector2(51, 761.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5vw27"]
size = Vector2(1222, 68)

[node name="Main" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1_ig7tw")]

[node name="Door" parent="." instance=ExtResource("2_0xm2m")]
position = Vector2(-24, -379)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h2yge")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="WorldEnvironment"]
color = Color(0.0885599, 0.0885599, 0.0885599, 1)
blend_mode = 2

[node name="Environment" type="Node2D" parent="."]

[node name="FloorAndWalls" type="TileMapLayer" parent="Environment"]
z_index = -1
tile_map_data = PackedByteArray("AAD0//f/AAAMAAAAAAD0//j/AAAMAAEAAAD1//f/AAAMAAAAAAD1//j/AAAMAAEAAAD2//f/AAAMAAAAAAD2//j/AAAMAAEAAAD3//f/AAAMAAAAAAD3//j/AAAMAAEAAAD4//f/AAAMAAAAAAD4//j/AAAMAAEAAAD5//f/AAAMAAAAAAD5//j/AAAMAAEAAAD6//f/AAAMAAAAAAD6//j/AAAMAAEAAAD7//f/AAAMAAAAAAD7//j/AAAMAAEAAAD8//f/AAAMAAAAAAD8//j/AAAMAAEAAAD9//f/AAAMAAAAAAD9//j/AAAMAAEAAAD+//f/AAAMAAAAAAD+//j/AAAMAAEAAAABAPf/AAAMAAAAAAABAPj/AAAMAAEAAAACAPf/AAAMAAAAAAACAPj/AAAMAAEAAAADAPf/AAAMAAAAAAADAPj/AAAMAAEAAAAEAPf/AAAMAAAAAAAEAPj/AAAMAAEAAAAFAPf/AAAMAAAAAAAFAPj/AAAMAAEAAAAGAPf/AAAMAAAAAAAGAPj/AAAMAAEAAAAHAPf/AAAMAAAAAAAHAPj/AAAMAAEAAAAIAPf/AAAMAAAAAAAIAPj/AAAMAAEAAAAJAPf/AAAMAAAAAAAJAPj/AAAMAAEAAAAKAPf/AAAMAAAAAAAKAPj/AAAMAAEAAAALAPf/AAAMAAAAAAALAPj/AAAMAAEAAAD0//n/AQAJAA0AAAD0//r/AQAJAA0AAAD0//v/AQAJAA0AAAD0//z/AQAJAA0AAAD0//3/AQAJAA0AAAD0//7/AQAJAA0AAAD0////AQAJAA0AAAD0/wAAAQAJAA0AAAD0/wEAAQAJAA0AAAD0/wIAAQAJAA0AAAD0/wMAAQAJAA0AAAD0/wQAAQAJAA0AAAD0/wUAAQAJAA0AAAD0/wYAAQAJAA0AAAD1//n/AQAJAA0AAAD1//r/AQAJAA0AAAD1//v/AQAJAA0AAAD1//z/AQAJAA0AAAD1//3/AQAJAA0AAAD1//7/AQAJAA0AAAD1////AQAJAA0AAAD1/wAAAQAJAA0AAAD1/wEAAQAJAA0AAAD1/wIAAQAJAA0AAAD1/wMAAQAJAA0AAAD1/wQAAQAJAA0AAAD1/wUAAQAJAA0AAAD1/wYAAQAJAA0AAAD2//n/AQAJAA0AAAD2//r/AQAJAA0AAAD2//v/AQAJAA0AAAD2//z/AQAJAA0AAAD2//3/AQAJAA0AAAD2//7/AQAJAA0AAAD2////AQAJAA0AAAD2/wAAAQAJAA0AAAD2/wEAAQAJAA0AAAD2/wIAAQAJAA0AAAD2/wMAAQAJAA0AAAD2/wQAAQAJAA0AAAD2/wUAAQAJAA0AAAD2/wYAAQAJAA0AAAD3//n/AQAJAA0AAAD3//r/AQAJAA0AAAD3//v/AQAJAA0AAAD3//z/AQAJAA0AAAD3//3/AQAJAA0AAAD3//7/AQAJAA0AAAD3////AQAJAA0AAAD3/wAAAQAJAA0AAAD3/wEAAQAJAA0AAAD3/wIAAQAJAA0AAAD3/wMAAQAJAA0AAAD3/wQAAQAJAA0AAAD3/wUAAQAJAA0AAAD3/wYAAQAJAA0AAAD4//n/AQAJAA0AAAD4//r/AQAJAA0AAAD4//v/AQAJAA0AAAD4//z/AQAJAA0AAAD4//3/AQAJAA0AAAD4//7/AQAJAA0AAAD4////AQAJAA0AAAD4/wAAAQAJAA0AAAD4/wEAAQAJAA0AAAD4/wIAAQAJAA0AAAD4/wMAAQAJAA0AAAD4/wQAAQAJAA0AAAD4/wUAAQAJAA0AAAD4/wYAAQAJAA0AAAD5//n/AQAJAA0AAAD5//r/AQAJAA0AAAD5//v/AQAJAA0AAAD5//z/AQAJAA0AAAD5//3/AQAJAA0AAAD5//7/AQAJAA0AAAD5////AQAJAA0AAAD5/wAAAQAJAA0AAAD5/wEAAQAJAA0AAAD5/wIAAQAJAA0AAAD5/wMAAQAJAA0AAAD5/wQAAQAJAA0AAAD5/wUAAQAJAA0AAAD5/wYAAQAJAA0AAAD6//n/AQAJAA0AAAD6//r/AQAJAA0AAAD6//v/AQAJAA0AAAD6//z/AQAJAA0AAAD6//3/AQAJAA0AAAD6//7/AQAJAA0AAAD6////AQAJAA0AAAD6/wAAAQAJAA0AAAD6/wEAAQAJAA0AAAD6/wIAAQAJAA0AAAD6/wMAAQAJAA0AAAD6/wQAAQAJAA0AAAD6/wUAAQAJAA0AAAD6/wYAAQAJAA0AAAD7//n/AQAJAA0AAAD7//r/AQAJAA0AAAD7//v/AQAJAA0AAAD7//z/AQAJAA0AAAD7//3/AQAJAA0AAAD7//7/AQAJAA0AAAD7////AQAJAA0AAAD7/wAAAQAJAA0AAAD7/wEAAQAJAA0AAAD7/wIAAQAJAA0AAAD7/wMAAQAJAA0AAAD7/wQAAQAJAA0AAAD7/wUAAQAJAA0AAAD7/wYAAQAJAA0AAAD8//n/AQAJAA0AAAD8//r/AQAJAA0AAAD8//v/AQAJAA0AAAD8//z/AQAJAA0AAAD8//3/AQAJAA0AAAD8//7/AQAJAA0AAAD8////AQAJAA0AAAD8/wAAAQAJAA0AAAD8/wEAAQAJAA0AAAD8/wIAAQAJAA0AAAD8/wMAAQAJAA0AAAD8/wQAAQAJAA0AAAD8/wUAAQAJAA0AAAD8/wYAAQAJAA0AAAD9//n/AQAJAA0AAAD9//r/AQAJAA0AAAD9//v/AQAJAA0AAAD9//z/AQAJAA0AAAD9//3/AQAJAA0AAAD9//7/AQAJAA0AAAD9////AQAJAA0AAAD9/wAAAQAJAA0AAAD9/wEAAQAJAA0AAAD9/wIAAQAJAA0AAAD9/wMAAQAJAA0AAAD9/wQAAQAJAA0AAAD9/wUAAQAJAA0AAAD9/wYAAQAJAA0AAAD+//n/AQAJAA0AAAD+//r/AQAJAA0AAAD+//v/AQAJAA0AAAD+//z/AQAJAA0AAAD+//3/AQAJAA0AAAD+//7/AQAJAA0AAAD+////AQAJAA0AAAD+/wAAAQAJAA0AAAD+/wEAAQAJAA0AAAD+/wIAAQAJAA0AAAD+/wMAAQAJAA0AAAD+/wQAAQAJAA0AAAD+/wUAAQAJAA0AAAD+/wYAAQAJAA0AAAD///n/AQAJAA0AAAD///r/AQAJAA0AAAD///v/AQAJAA0AAAD///z/AQAJAA0AAAD///3/AQAJAA0AAAD///7/AQAJAA0AAAD/////AQAJAA0AAAD//wAAAQAJAA0AAAD//wEAAQAJAA0AAAD//wIAAQAJAA0AAAD//wMAAQAJAA0AAAD//wQAAQAJAA0AAAD//wUAAQAJAA0AAAD//wYAAQAJAA0AAAAAAPn/AQAJAA0AAAAAAPr/AQAJAA0AAAAAAPv/AQAJAA0AAAAAAPz/AQAJAA0AAAAAAP3/AQAJAA0AAAAAAP7/AQAJAA0AAAAAAP//AQAJAA0AAAAAAAAAAQAJAA0AAAAAAAEAAQAJAA0AAAAAAAIAAQAJAA0AAAAAAAMAAQAJAA0AAAAAAAQAAQAJAA0AAAAAAAUAAQAJAA0AAAAAAAYAAQAJAA0AAAABAPn/AQAJAA0AAAABAPr/AQAJAA0AAAABAPv/AQAJAA0AAAABAPz/AQAJAA0AAAABAP3/AQAJAA0AAAABAP7/AQAJAA0AAAABAP//AQAJAA0AAAABAAAAAQAJAA0AAAABAAEAAQAJAA0AAAABAAIAAQAJAA0AAAABAAMAAQAJAA0AAAABAAQAAQAJAA0AAAABAAUAAQAJAA0AAAABAAYAAQAJAA0AAAACAPn/AQAJAA0AAAACAPr/AQAJAA0AAAACAPv/AQAJAA0AAAACAPz/AQAJAA0AAAACAP3/AQAJAA0AAAACAP7/AQAJAA0AAAACAP//AQAJAA0AAAACAAAAAQAJAA0AAAACAAEAAQAJAA0AAAACAAIAAQAJAA0AAAACAAMAAQAJAA0AAAACAAQAAQAJAA0AAAACAAUAAQAJAA0AAAACAAYAAQAJAA0AAAADAPn/AQAJAA0AAAADAPr/AQAJAA0AAAADAPv/AQAJAA0AAAADAPz/AQAJAA0AAAADAP3/AQAJAA0AAAADAP7/AQAJAA0AAAADAP//AQAJAA0AAAADAAAAAQAJAA0AAAADAAEAAQAJAA0AAAADAAIAAQAJAA0AAAADAAMAAQAJAA0AAAADAAQAAQAJAA0AAAADAAUAAQAJAA0AAAADAAYAAQAJAA0AAAAEAPn/AQAJAA0AAAAEAPr/AQAJAA0AAAAEAPv/AQAJAA0AAAAEAPz/AQAJAA0AAAAEAP3/AQAJAA0AAAAEAP7/AQAJAA0AAAAEAP//AQAJAA0AAAAEAAAAAQAJAA0AAAAEAAEAAQAJAA0AAAAEAAIAAQAJAA0AAAAEAAMAAQAJAA0AAAAEAAQAAQAJAA0AAAAEAAUAAQAJAA0AAAAEAAYAAQAJAA0AAAAFAPn/AQAJAA0AAAAFAPr/AQAJAA0AAAAFAPv/AQAJAA0AAAAFAPz/AQAJAA0AAAAFAP3/AQAJAA0AAAAFAP7/AQAJAA0AAAAFAP//AQAJAA0AAAAFAAAAAQAJAA0AAAAFAAEAAQAJAA0AAAAFAAIAAQAJAA0AAAAFAAMAAQAJAA0AAAAFAAQAAQAJAA0AAAAFAAUAAQAJAA0AAAAFAAYAAQAJAA0AAAAGAPn/AQAJAA0AAAAGAPr/AQAJAA0AAAAGAPv/AQAJAA0AAAAGAPz/AQAJAA0AAAAGAP3/AQAJAA0AAAAGAP7/AQAJAA0AAAAGAP//AQAJAA0AAAAGAAAAAQAJAA0AAAAGAAEAAQAJAA0AAAAGAAIAAQAJAA0AAAAGAAMAAQAJAA0AAAAGAAQAAQAJAA0AAAAGAAUAAQAJAA0AAAAGAAYAAQAJAA0AAAAHAPn/AQAJAA0AAAAHAPr/AQAJAA0AAAAHAPv/AQAJAA0AAAAHAPz/AQAJAA0AAAAHAP3/AQAJAA0AAAAHAP7/AQAJAA0AAAAHAP//AQAJAA0AAAAHAAAAAQAJAA0AAAAHAAEAAQAJAA0AAAAHAAIAAQAJAA0AAAAHAAMAAQAJAA0AAAAHAAQAAQAJAA0AAAAHAAUAAQAJAA0AAAAHAAYAAQAJAA0AAAAIAPn/AQAJAA0AAAAIAPr/AQAJAA0AAAAIAPv/AQAJAA0AAAAIAPz/AQAJAA0AAAAIAP3/AQAJAA0AAAAIAP7/AQAJAA0AAAAIAP//AQAJAA0AAAAIAAAAAQAJAA0AAAAIAAEAAQAJAA0AAAAIAAIAAQAJAA0AAAAIAAMAAQAJAA0AAAAIAAQAAQAJAA0AAAAIAAUAAQAJAA0AAAAIAAYAAQAJAA0AAAAJAPn/AQAJAA0AAAAJAPr/AQAJAA0AAAAJAPv/AQAJAA0AAAAJAPz/AQAJAA0AAAAJAP3/AQAJAA0AAAAJAP7/AQAJAA0AAAAJAP//AQAJAA0AAAAJAAAAAQAJAA0AAAAJAAEAAQAJAA0AAAAJAAIAAQAJAA0AAAAJAAMAAQAJAA0AAAAJAAQAAQAJAA0AAAAJAAUAAQAJAA0AAAAJAAYAAQAJAA0AAAAKAPn/AQAJAA0AAAAKAPr/AQAJAA0AAAAKAPv/AQAJAA0AAAAKAPz/AQAJAA0AAAAKAP3/AQAJAA0AAAAKAP7/AQAJAA0AAAAKAP//AQAJAA0AAAAKAAAAAQAJAA0AAAAKAAEAAQAJAA0AAAAKAAIAAQAJAA0AAAAKAAMAAQAJAA0AAAAKAAQAAQAJAA0AAAAKAAUAAQAJAA0AAAAKAAYAAQAJAA0AAAALAPn/AQAJAA0AAAALAPr/AQAJAA0AAAALAPv/AQAJAA0AAAALAPz/AQAJAA0AAAALAP3/AQAJAA0AAAALAP7/AQAJAA0AAAALAP//AQAJAA0AAAALAAAAAQAJAA0AAAALAAEAAQAJAA0AAAALAAIAAQAJAA0AAAALAAMAAQAJAA0AAAALAAQAAQAJAA0AAAALAAUAAQAJAA0AAAALAAYAAQAJAA0AAADz//j/AgAGAAcAAADz//n/AgAGAAcAAADz//r/AgAGAAcAAADz//v/AgAGAAcAAADz//z/AgAGAAcAAADz//3/AgAGAAcAAADz//7/AgAGAAcAAADz////AgAGAAcAAADz/wAAAgAGAAcAAADz/wEAAgAGAAcAAADz/wIAAgAGAAcAAADz/wMAAgAGAAcAAADz/wQAAgAGAAcAAADz/wUAAgAGAAcAAADz/wYAAgAGAAcAAADz/wcAAgAGAAgAAAD0/wcAAgAHAAgAAAD1/wcAAgAHAAgAAAD2/wcAAgAHAAgAAAD3/wcAAgAHAAgAAAD4/wcAAgAHAAgAAAD5/wcAAgAHAAgAAAD6/wcAAgAHAAgAAAD7/wcAAgAHAAgAAAD8/wcAAgAHAAgAAAD9/wcAAgAHAAgAAAD+/wcAAgAHAAgAAAD//wcAAgAHAAgAAAAAAAcAAgAHAAgAAAABAAcAAgAHAAgAAAACAAcAAgAHAAgAAAADAAcAAgAHAAgAAAAEAAcAAgAHAAgAAAAFAAcAAgAHAAgAAAAGAAcAAgAHAAgAAAAHAAcAAgAHAAgAAAAIAAcAAgAHAAgAAAAJAAcAAgAHAAgAAAAKAAcAAgAHAAgAAAALAAcAAgAHAAgAAAAMAAcAAgAIAAgAAAAMAAYAAgAIAAcAAAAMAAUAAgAIAAcAAAAMAAQAAgAIAAcAAAAMAAMAAgAIAAcAAAAMAAIAAgAIAAcAAAAMAAEAAgAIAAcAAAAMAAAAAgAIAAcAAAAMAP//AgAIAAcAAAAMAP7/AgAIAAcAAAAMAP3/AgAIAAcAAAAMAPz/AgAIAAcAAAAMAPv/AgAIAAcAAAAMAPr/AgAIAAcAAAAMAPn/AgAIAAcAAAAMAPj/AgAIAAcAAAAMAPf/AgAIAAYAAADz//f/AgAGAAYAAAAAAPj/AAAMAAEAAAAAAPf/AAAMAAAAAAA=")
tile_set = ExtResource("3_h2yge")

[node name="OtherItems" type="TileMapLayer" parent="Environment"]
tile_map_data = PackedByteArray("AAD2//f/AwAMABgAAAD2//j/AwAMABkAAAD2//n/AwAMABoAAAD3//f/AwANABgAAAD3//j/AwANABkAAAD3//n/AwANABoAAAD4//f/AwAMABgAAAD4//j/AwAMABkAAAD4//n/AwAMABoAAAD5//f/AwANABgAAAD5//j/AwANABkAAAD5//n/AwANABoAAAAHAPf/AwAHAAQAAAAHAPj/AwAHAAUAAAAHAPn/AwAHAAYAAAAIAPf/AwAIAAQAAAAIAPj/AwAIAAUAAAAIAPn/AwAIAAYAAAAEAPf/AwAEABgAAAAEAPj/AwAEABkAAAAEAPn/AwAEABoAAAAFAPf/AwAFABgAAAAFAPj/AwAFABkAAAAFAPn/AwAFABoAAAD5/wAAAwACAAcAAAD5/wEAAwACAAgAAAD6/wAAAwADAAcAAAD6/wEAAwADAAgAAAAGAAAAAwACAAcAAAAGAAEAAwACAAgAAAAHAAAAAwADAAcAAAAHAAEAAwADAAgAAAAGAAMAAwACAAcAAAAGAAQAAwACAAgAAAD5/wMAAwACAAcAAAD5/wQAAwACAAgAAAD6/wMAAwABAAcAAAD6/wQAAwABAAgAAAAHAAMAAwABAAcAAAAHAAQAAwABAAgAAAAKAPv/AwAHACQAAAAKAPz/AwAHACUAAAAKAP3/AwAHACYAAAALAPv/AwAIACQAAAALAPz/AwAIACUAAAALAP3/AwAIACYAAAD0//z/AwAJACQAAAD0//3/AwAJACUAAAD0//7/AwAJACYAAAD1//z/AwAKACQAAAD1//3/AwAKACUAAAD1//7/AwAKACYAAAA=")
tile_set = ExtResource("3_h2yge")

[node name="PointLight2D" type="PointLight2D" parent="Environment"]
position = Vector2(240, -341)
texture = SubResource("GradientTexture2D_dg77c")

[node name="Background" type="ColorRect" parent="Environment"]
z_index = -2
material = SubResource("ShaderMaterial_5vw27")
offset_left = -2734.0
offset_top = -2018.0
offset_right = 2406.0
offset_bottom = 1392.0
script = ExtResource("6_272bh")

[node name="FloorAndWallsCollider" type="StaticBody2D" parent="Environment"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/FloorAndWallsCollider"]
position = Vector2(-329.875, -383.5)
shape = SubResource("RectangleShape2D_kek77")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Environment/FloorAndWallsCollider"]
position = Vector2(288.75, -383)
shape = SubResource("RectangleShape2D_7mycd")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Environment/FloorAndWallsCollider"]
position = Vector2(599.5, -48.75)
shape = SubResource("RectangleShape2D_272bh")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Environment/FloorAndWallsCollider"]
position = Vector2(-604, -48.75)
shape = SubResource("RectangleShape2D_272bh")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Environment/FloorAndWallsCollider"]
position = Vector2(14, 368)
shape = SubResource("RectangleShape2D_5vw27")
